"use strict";(self.webpackChunkdocusaurus_bertcatsburg=self.webpackChunkdocusaurus_bertcatsburg||[]).push([[63],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),h=r,m=p["".concat(s,".").concat(h)]||p[h]||d[h]||a;return n?o.createElement(m,i(i({ref:t},u),{},{components:n})):o.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},1257:(e,t,n)=>{n.d(t,{r:()=>r,I:()=>i});var o=n(7294);const r=e=>o.createElement("a",{href:e.to,target:"_blank"},e.children),a=[{description:"smiling face with open mouth",value:"\ud83d\ude03"},{description:"winking face",value:"\ud83d\ude09"},{description:"face with stuck-out tongue and winking eye",value:"\ud83d\ude1c"},{description:"astonished face",value:"\ud83d\ude32"},{description:"white heavy check mark",value:"\u2705"}],i=e=>{const t=a.find((t=>t.description===e.description));return t?t.value:null}},323:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var o=n(7462),r=(n(7294),n(3905)),a=n(1257);const i={sidebar_position:1},l="Intro",s={unversionedId:"nginx-in-docker/intro",id:"nginx-in-docker/intro",title:"Intro",description:"In deployment of services to the cloud you want as little",source:"@site/docs/nginx-in-docker/01-intro.mdx",sourceDirName:"nginx-in-docker",slug:"/nginx-in-docker/intro",permalink:"/docs/nginx-in-docker/intro",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Nginx in Docker",permalink:"/docs/category/nginx-in-docker"},next:{title:"Setting up Nginx",permalink:"/docs/nginx-in-docker/setting-up-the-project"}},c={},u=[{value:"Approach and tools",id:"approach-and-tools",level:2},{value:"Advantage",id:"advantage",level:2},{value:"Disadvantage",id:"disadvantage",level:2},{value:"What you already need to know",id:"what-you-already-need-to-know",level:2},{value:"Source code",id:"source-code",level:2}],p={toc:u},d="wrapper";function h(e){let{components:t,...i}=e;return(0,r.kt)(d,(0,o.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"intro"},"Intro"),(0,r.kt)("p",null,"In deployment of services to the cloud you want as little\ndependencies as possible on the host systems.\nJust get a Droplet from Digital Ocean or an EC2 from AWS,\nthen get the software from your Github account,\nrun a start script and everything should go from there."),(0,r.kt)("p",null,"This document shows how such a setup could look like."),(0,r.kt)("p",null,"It explains the following concepts and techniques:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"How to put Nginx in a Docker Container"),(0,r.kt)("li",{parentName:"ul"},"How to do the Docker Networking to tie everything together"),(0,r.kt)("li",{parentName:"ul"},"Setting up Domain names each pointing to different sites"),(0,r.kt)("li",{parentName:"ul"},"Using SSL in Ngix in Docker"),(0,r.kt)("li",{parentName:"ul"},"How to handle secret files"),(0,r.kt)("li",{parentName:"ul"},"How to set up databases MySQL, Postgres and MongoDB"),(0,r.kt)("li",{parentName:"ul"},"How to install a Python Flask API"),(0,r.kt)("li",{parentName:"ul"},"How to install a NodeJS API"),(0,r.kt)("li",{parentName:"ul"},"How to install a ReactJS Frontend")),(0,r.kt)("p",null,"(All spread out over different parts of the tutorial. Pick what you need from it)"),(0,r.kt)("p",null,"And you could use the same Nginx setup to service a stream for something like SFTP."),(0,r.kt)("p",null,"The core of the project is a Nginx Proxyserver project running in a Docker Container"),(0,r.kt)("p",null,"The configuration grew from an idea in the past to the full setup as it is used today.\nIf you don't understand some parts of it, please, please, please let me know.\nI will clarify/update the article with a better explanation.\nAlso, if you don't agree with some solutions, let me know. I would love a discussion on this and be proven wrong. ",(0,r.kt)(a.I,{description:"smiling face with open mouth",mdxType:"ShowEmoticon"})),(0,r.kt)("h2",{id:"approach-and-tools"},"Approach and tools"),(0,r.kt)("p",null,"The approach to achieve this is Docker.\nThe host system, being a Digital-Ocean Droplet, an AWS EC2 Server or any other plain Ubuntu box."),(0,r.kt)("p",null,"All you need is Docker (and docker-compose) installed\nand a few open ports on the firewall."),(0,r.kt)("p",null,"Tools used:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Linux system, wherever you get this from"),(0,r.kt)("li",{parentName:"ul"},"Nginx"),(0,r.kt)("li",{parentName:"ul"},"SSL"),(0,r.kt)("li",{parentName:"ul"},"DNS (for the domains)"),(0,r.kt)("li",{parentName:"ul"},"Bit-of-BashScripting")),(0,r.kt)("p",null,"For the setup of the network and base installation, we won't be creating any Docker Images.\nEverything we need is already there in standard Docker Images from Docker Hub."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Global Approach",src:n(9029).Z,width:"751",height:"594"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"All the orange boxes are Docker Containers"),(0,r.kt)("li",{parentName:"ul"},"A lot of detail is missing. Follow along and more images will follow")),(0,r.kt)("h2",{id:"advantage"},"Advantage"),(0,r.kt)("p",null,"The advantage of this approach is total flexibility where to deploy services, independant of the Cloud Provider.\nThe complete Deployment of all of the services is stored in a project itself."),(0,r.kt)("h2",{id:"disadvantage"},"Disadvantage"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"No Kubernetes yet. That's for a later version of this article")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"These days (mid-2023, when this article was written) people are all over ",(0,r.kt)(a.r,{to:"https://www.terraform.io/",mdxType:"Link"},"Terraform"),". I agree that could also be a solution, but this is just another approach."),(0,r.kt)("p",{parentName:"li"},"And, Terraform is ",(0,r.kt)(a.r,{to:"https://programiz.pro/resources/imperative-vs-declarative-programming/",mdxType:"Link"},"Declarative")," and a bit more complex than this solution."))),(0,r.kt)("h2",{id:"what-you-already-need-to-know"},"What you already need to know"),(0,r.kt)("p",null,"This article expects you already know a bit about:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"bash shell scripting"),(0,r.kt)("li",{parentName:"ul"},"docker and docker-compose on a beginners level"),(0,r.kt)("li",{parentName:"ul"},"dns, ssl and basic networking stuff on Unix")),(0,r.kt)("h2",{id:"source-code"},"Source code"),(0,r.kt)("p",null,"If you're too lazy to do Copy/Page on all the code, you could also take a look at the source code in the public ",(0,r.kt)(a.r,{to:"https://github.com/BertCatsburg/Nginx_in_Docker",mdxType:"Link"},"repo about this project")))}h.isMDXComponent=!0},9029:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/approach-5a9813c9e5c95307a0c09892e4d0ec1b.png"}}]);