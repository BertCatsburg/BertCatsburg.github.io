"use strict";(self.webpackChunkdocusaurus_bertcatsburg=self.webpackChunkdocusaurus_bertcatsburg||[]).push([[618],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>f});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=r.createContext({}),l=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},p=function(e){var n=l(e.components);return r.createElement(s.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=l(t),g=o,f=u["".concat(s,".").concat(g)]||u[g]||d[g]||i;return t?r.createElement(f,a(a({ref:n},p),{},{components:t})):r.createElement(f,a({ref:n},p))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=g;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c[u]="string"==typeof e?e:o,a[1]=c;for(var l=2;l<i;l++)a[l]=t[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},1257:(e,n,t)=>{t.d(n,{r:()=>o,I:()=>a});var r=t(7294);const o=e=>r.createElement("a",{href:e.to,target:"_blank"},e.children),i=[{description:"smiling face with open mouth",value:"\ud83d\ude03"},{description:"winking face",value:"\ud83d\ude09"},{description:"face with stuck-out tongue and winking eye",value:"\ud83d\ude1c"},{description:"astonished face",value:"\ud83d\ude32"},{description:"white heavy check mark",value:"\u2705"}],a=e=>{const n=i.find((n=>n.description===e.description));return n?n.value:null}},1025:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var r=t(7462),o=(t(7294),t(3905));t(1257);const i={sidebar_position:3},a="Running Nginx in Docker",c={unversionedId:"nginx-in-docker/first-run",id:"nginx-in-docker/first-run",title:"Running Nginx in Docker",description:"Let's see our Nginx Docker config in action.",source:"@site/docs/nginx-in-docker/03-first-run.mdx",sourceDirName:"nginx-in-docker",slug:"/nginx-in-docker/first-run",permalink:"/docs/nginx-in-docker/first-run",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Setting up Nginx",permalink:"/docs/nginx-in-docker/setting-up-the-project"},next:{title:"Setting up a Static Website",permalink:"/docs/nginx-in-docker/static-website"}},s={},l=[{value:"Initial situation",id:"initial-situation",level:3},{value:"Starting Docker-compose",id:"starting-docker-compose",level:3},{value:"Testing the ProxyServer",id:"testing-the-proxyserver",level:3},{value:"So, what do we have so far:",id:"so-what-do-we-have-so-far",level:3}],p={toc:l},u="wrapper";function d(e){let{components:n,...i}=e;return(0,o.kt)(u,(0,r.Z)({},p,i,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"running-nginx-in-docker"},"Running Nginx in Docker"),(0,o.kt)("p",null,"Let's see our Nginx Docker config in action."),(0,o.kt)("h3",{id:"initial-situation"},"Initial situation"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"No Docker Containers running"),(0,o.kt)("li",{parentName:"ul"},"No Docker Images"),(0,o.kt)("li",{parentName:"ul"},"You have a Terminal Session in the Proxyserver directory"),(0,o.kt)("li",{parentName:"ul"},"Docker Network already started")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ ls -la\ntotal 8\ndrwxr-xr-x   4 bert  staff  128 Nov 21 13:40 .\ndrwxr-xr-x  12 bert  staff  384 Nov 20 10:26 ..\ndrwxr-xr-x   5 bert  staff  160 Nov 21 12:57 deployment\n-rw-r--r--   1 bert  staff  547 Nov 21 12:56 docker-compose.yml\n\n$ docker images\nREPOSITORY   TAG       IMAGE ID   CREATED   SIZE\n\n$ docker ps -a\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n")),(0,o.kt)("h3",{id:"starting-docker-compose"},"Starting Docker-compose"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ docker-compose up\n")),(0,o.kt)("p",null,"The terminal will be locked because we run this without the \"-d\" option (for 'Detach')\nThis command results in the following output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ docker-compose up\nPulling proxyserver (nginx:1.21.4)...\n1.21.4: Pulling from library/nginx\neff15d958d66: Pull complete\n1e5351450a59: Pull complete\n2df63e6ce2be: Pull complete\n9171c7ae368c: Pull complete\n020f975acd28: Pull complete\n266f639b35ad: Pull complete\nDigest: sha256:097c3a0913d7e3a5b01b6c685a60c03632fc7a2b50bc8e35bcaa3691d788226e\nStatus: Downloaded newer image for nginx:1.21.4\nCreating proxyserver ... done\nAttaching to proxyserver\nproxyserver    | /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration\nproxyserver    | /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/\nproxyserver    | /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh\nproxyserver    | 10-listen-on-ipv6-by-default.sh: info: can not modify /etc/nginx/conf.d/default.conf (read-only file system?)\nproxyserver    | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh\nproxyserver    | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh\nproxyserver    | /docker-entrypoint.sh: Configuration complete; ready for start up\n")),(0,o.kt)("p",null,"And on another terminal window the Docker commands show a running Container:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ docker images\nREPOSITORY   TAG       IMAGE ID       CREATED      SIZE\nnginx        1.21.4    ea335eea17ab   4 days ago   141MB\n\n$ docker ps -a\nCONTAINER ID   IMAGE          COMMAND                  CREATED              STATUS              PORTS                               NAMES\nb78ac1eb5c5e   nginx:1.21.4   "/docker-entrypoint.\u2026"   About a minute ago   Up About a minute   0.0.0.0:80->80/tcp, :::80->80/tcp   proxyserver\n')),(0,o.kt)("h3",{id:"testing-the-proxyserver"},"Testing the ProxyServer"),(0,o.kt)("p",null,"The Container itself is listening on Port 80, and it is mapped to port 80 on the Host."),(0,o.kt)("p",null,"Start a browser and go to ",(0,o.kt)("a",{parentName:"p",href:"http://127.0.0.1/"},"http://127.0.0.1/")," (default port is 80)\n",(0,o.kt)("img",{alt:"A running Nginx in Docker",src:t(5795).Z,width:"1036",height:"412"})),(0,o.kt)("h3",{id:"so-what-do-we-have-so-far"},"So, what do we have so far:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"A Nginx Proxyserver running in a Docker Container.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The Nginx configuration does not do any proxy'ing yet, all requests are going to the catch-all empty website."),(0,o.kt)("p",{parentName:"li"},"Next section of this tutorial will fix that."))))}d.isMDXComponent=!0},5795:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/running01-2-be15e6a927c0de76a2bed155e8e57cf8.png"}}]);